/**
 * The MIT License
 *
 * Copyright (c) 2010-2012 www.myjeeva.com
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE. 
 * 
 */
package com.org.agent.command;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FileWriter;
import java.io.IOException;

import org.apache.tomcat.util.codec.binary.Base64;


/**
 * @desc Image manipulation - Conversion
 * 
 * @filename ImageManipulation.java
 * @author <a href="mailto:jeeva@myjeeva.com">Jeevanandam Madanagopal</a>
 * @copyright &copy; 2010-2012 www.myjeeva.com
 */
public class ImageManipulation {

	/**
	 * @param args
	 */
	public static void ima() {
		//File file = new File("/home/saranya/Pictures/index.jpeg");
		
		try {
			/*
			 * Reading a Image file from file system
			 */
			//FileInputStream imageInFile = new FileInputStream(file);
			//byte imageData[] = new byte[(int)file.length()];
			//imageInFile.read(imageData);
			
			/*
			 * Converting Image byte array into Base64 String 
			 */
			//String imageDataString = encodeImage(imageData);
			
			/*
			 * Converting a Base64 String into Image byte array 
			 */
			byte[] imageByteArray = decodeImage("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");
			
			/*
			 * Write a image byte array into file system  
			 */
			
			File file = new File("/home/saranya/Pictur/water-drop-after-convert1.jpg\"");
			file.getParentFile().mkdirs();
			FileWriter writer = new FileWriter(file);
			
			FileOutputStream imageOutFile = new FileOutputStream(file);
			imageOutFile.write(imageByteArray);
			
			//imageInFile.close();
			imageOutFile.close();
			
			System.out.println("Image Successfully Manipulated!");
		} catch (FileNotFoundException e) {
			System.out.println("Image not found" + e);
		} catch (IOException ioe) {
			System.out.println("Exception while reading the Image " + ioe);
		}

	}
	
	/**
	 * Encodes the byte array into base64 string
	 * @param imageByteArray - byte array
	 * @return String a {@link java.lang.String}
	 */
	public static String encodeImage(byte[] imageByteArray){		
		return Base64.encodeBase64URLSafeString(imageByteArray);		
	}
	
	/**
	 * Decodes the base64 string into byte array
	 * @param imageDataString - a {@link java.lang.String} 
	 * @return byte array
	 */
	public static byte[] decodeImage(String imageDataString) {		
		return Base64.decodeBase64(imageDataString);
	}

}
